
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>ModuBot - Your Personal AI Assistant</title>
    <meta name="description" content="Experience the power of conversational AI with ModuBot. Get instant answers, creative content, and intelligent assistance." />
    <meta name="author" content="Lovable" />
    <meta property="og:image" content="/og-image.png" />
    <meta property="og:title" content="ModuBot - Your Personal AI Assistant" />
    <meta property="og:description" content="Experience the power of conversational AI with ModuBot. Get instant answers, creative content, and intelligent assistance." />
    <meta property="og:type" content="website" />
    <link rel="icon" href="/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- Basic fallback styles for initial render -->
    <style>
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(to bottom, #ffffff, #f0f4ff);
        min-height: 100vh;
      }
      .fallback {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        height: 100vh;
        text-align: center;
        padding: 0 1rem;
      }
      .fallback h1 {
        font-size: 2rem;
        margin-bottom: 1rem;
        color: #4f46e5;
      }
      .fallback p {
        color: #666;
        max-width: 500px;
        margin-bottom: 2rem;
      }
      .fallback button {
        background: #4f46e5;
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.15s;
      }
      .fallback button:hover {
        background: #4338ca;
      }
    </style>
    
    <!-- GitHub Pages SPA redirect script -->
    <script type="text/javascript">
      // Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      (function(l) {
        if (l.search[1] === '/' ) {
          var decoded = l.search.slice(1).split('&').map(function(s) { 
            return s.replace(/~and~/g, '&')
          }).join('?');
          window.history.replaceState(null, null,
            l.pathname.slice(0, -1) + decoded + l.hash
          );
        }
      }(window.location))
    </script>

    <!-- Debug routing and script loading -->
    <script type="text/javascript">
      console.log('Initial page load details:');
      console.log('Full URL:', window.location.href);
      console.log('Origin:', window.location.origin);
      console.log('Pathname:', window.location.pathname);
      console.log('Search:', window.location.search);
      console.log('Hash:', window.location.hash);
      
      // Setup error handling for script loading
      window.addEventListener('error', function(event) {
        if (event.target && (event.target.nodeName === 'SCRIPT' || event.target.nodeName === 'LINK')) {
          console.error('Resource failed to load:', event.target.src || event.target.href);
        }
      }, true);
    </script>
  </head>

  <body>
    <div id="root">
      <div class="fallback">
        <h1>ModuBot</h1>
        <p>Loading application...</p>
        <div id="loading-spinner" style="margin-bottom: 20px;">
          <div style="border: 4px solid #f3f3f3; border-top: 4px solid #4f46e5; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite;"></div>
        </div>
        <p id="loading-message" style="font-size: 0.8rem; color: #888;">This may take a few moments</p>
        <button id="retry-button" style="display: none; margin-top: 20px;" onclick="window.location.reload()">Refresh Page</button>
        
        <script>
          // Show retry button after 10 seconds
          setTimeout(function() {
            document.getElementById('loading-message').textContent = 'Taking longer than expected...';
            document.getElementById('retry-button').style.display = 'block';
          }, 10000);
        </script>
      </div>
    </div>
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
    <script src="/verify-deploy.js"></script>
  </body>
</html>
